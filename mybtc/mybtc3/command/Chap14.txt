コマンド14-1-1　Locktimeを設定して未署名トランザクションを生成$ RAW_TX=`bcit createrawtransaction "[{\"txid\":\"$TXID\",\"vout\":$VOUT}]" "{\"$aliceaddr\":0.02}" $(expr $(bcit getblockcount) + 1)`コマンド14-1-2　トランザクションに署名$ bcit signrawtransaction $RAW_TX{  "hex": "0200000001ce9f964b2cba75823eed8dfc6eb7665181331adab2557d4932f37d22e02a4533000000006b483045022100be7ad38fc7b8257fcffb70697d50106c3f22ebf8d14e8545f9f9fc6c7e7302e102200f5bd19203877f7228b21b7bab549e6617a0b228b5666e787103d5585ed0c58b012102e8fe565a5bdef860c7734bd5f74edcfd6dcfb205678145c08bf5e1deb0cac01cfeffffff0180841e00000000001976a914eca8ab37ef6fef7c7ee10323a8a3bb3101c1731e88acafb61300",  "complete": true}コマンド14-1-3　署名済みトランザクションを変数に設定$ SIGNED_RAW_TX=0200000001ce9f964b2cba75823eed8dfc6eb7665181331adab2557d4932f37d22e02a4533000000006b483045022100be7ad38fc7b8257fcffb70697d50106c3f22ebf8d14e8545f9f9fc6c7e7302e102200f5bd19203877f7228b21b7bab549e6617a0b228b5666e787103d5585ed0c58b012102e8fe565a5bdef860c7734bd5f74edcfd6dcfb205678145c08bf5e1deb0cac01cfeffffff0180841e00000000001976a914eca8ab37ef6fef7c7ee10323a8a3bb3101c1731e88acafb61300コマンド14-1-4　署名済みトランザクションを確認$ bcit decoderawtransaction $SIGNED_RAW_TX{  "txid": "b5eb924d72ab30f2b012cea362521e6e93cfb86a4875707b7c19f8bd7f9daee2",  "hash": "b5eb924d72ab30f2b012cea362521e6e93cfb86a4875707b7c19f8bd7f9daee2",  "version": 2,  "size": 192,  "vsize": 192,  "locktime": 1291951,  "vin": [    {      "txid": "33452ae0227df332497d55b2da1a33815166b76efc8ded3e8275ba2c4b969fce",      "vout": 0,      "scriptSig": {        "asm": "3045022100be7ad38fc7b8257fcffb70697d50106c3f22ebf8d14e8545f9f9fc6c7e7302e102200f5bd19203877f7228b21b7bab549e6617a0b228b5666e787103d5585ed0c58b[ALL] 02e8fe565a5bdef860c7734bd5f74edcfd6dcfb205678145c08bf5e1deb0cac01c",        "hex": "483045022100be7ad38fc7b8257fcffb70697d50106c3f22ebf8d14e8545f9f9fc6c7e7302e102200f5bd19203877f7228b21b7bab549e6617a0b228b5666e787103d5585ed0c58b012102e8fe565a5bdef860c7734bd5f74edcfd6dcfb205678145c08bf5e1deb0cac01c"      },      "sequence": 4294967294    }  ],  "vout": [    {      "value": 0.02000000,      "n": 0,      "scriptPubKey": {        "asm": "OP_DUP OP_HASH160 eca8ab37ef6fef7c7ee10323a8a3bb3101c1731e OP_EQUALVERIFY OP_CHECKSIG",        "hex": "76a914eca8ab37ef6fef7c7ee10323a8a3bb3101c1731e88ac",        "reqSigs": 1,        "type": "pubkeyhash",        "addresses": [          "n36Hpe9L76wHX8qNgkL8sezjLc1PMeFAgw"        ]      }    }  ]}コマンド14-1-5　ブロック高1291950時点で送信$ bcit getblockcount ; bcit sendrawtransaction $SIGNED_RAW_TX1291950error code: -26error message:64: non-finalコマンド14-1-6　ブロック高1291951時点で送信$ bcit getblockcount ; bcit sendrawtransaction $SIGNED_RAW_TX1291951b5eb924d72ab30f2b012cea362521e6e93cfb86a4875707b7c19f8bd7f9daee214.2：Replace by Feeを試してみようコマンド14-2-1　NON_RBF_SIGNED_RAW_TXを確認$ bcit decoderawtransaction $NON_RBF_SIGNED_RAW_TX{  "txid": "e4453b4586f44a3deff2c776e476bdbbe90c3102664a1c1dac6e3f8099303d23",  "hash": "e4453b4586f44a3deff2c776e476bdbbe90c3102664a1c1dac6e3f8099303d23",  "version": 2,  "size": 191,  "vsize": 191,  "locktime": 0,  "vin": [    {      "txid": "0bca1e6d84e3509d2a8b4c9329a3842307a7c9234e226635abfa5f86850efca9",      "vout": 0,      "scriptSig": {        "asm": "304402207bce9dae251e266111d47818df3ce3d7e678ae37ba3a3121a7d58dd20c53b19d0220720fa22de434ba01b2751ef7f50f66e0ee12e1b6b3a115490ed36358a8f4ec94[ALL] 0205d9ddeaa34d5f9cb670c152fd2b92c0833a50536ad9bfc91962b9e11c35a670",        "hex": "47304402207bce9dae251e266111d47818df3ce3d7e678ae37ba3a3121a7d58dd20c53b19d0220720fa22de434ba01b2751ef7f50f66e0ee12e1b6b3a115490ed36358a8f4ec9401210205d9ddeaa34d5f9cb670c152fd2b92c0833a50536ad9bfc91962b9e11c35a670"      },      "sequence": 4294967295    }  ],  "vout": [    {      "value": 0.03500000,      "n": 0,      "scriptPubKey": {        "asm": "OP_DUP OP_HASH160 d20303f9aa73ef80862edd9384a70d4e7b97820f OP_EQUALVERIFY OP_CHECKSIG",        "hex": "76a914d20303f9aa73ef80862edd9384a70d4e7b97820f88ac",        "reqSigs": 1,        "type": "pubkeyhash",        "addresses": [          "mzfPortdXRJCY5fPXaQeLxRh3Ke3AEirVy"        ]      }    }  ]}コマンド14-2-2　REP_NON_RBF_SIGNED_RAW_TXを確認$ bcit decoderawtransaction $REP_NON_RBF_SIGNED_RAW_TX{  "txid": "610381b65f8a363fd11be54032cfab7b75b23b99ddaefbb69707ad8d4e8a2bb4",  "hash": "610381b65f8a363fd11be54032cfab7b75b23b99ddaefbb69707ad8d4e8a2bb4",  "version": 2,  "size": 192,  "vsize": 192,  "locktime": 0,  "vin": [    {      "txid": "0bca1e6d84e3509d2a8b4c9329a3842307a7c9234e226635abfa5f86850efca9",      "vout": 0,      "scriptSig": {        "asm": "304502210098f5949cca83a737f0d13152977eef6c59dca16936ddcae2ebeea0d5ece5e0de02200a25ca600ce7adeca61ced3cf7779a6aaa3abd0f87e9d61bcfd974232171fc43[ALL] 0205d9ddeaa34d5f9cb670c152fd2b92c0833a50536ad9bfc91962b9e11c35a670",        "hex": "48304502210098f5949cca83a737f0d13152977eef6c59dca16936ddcae2ebeea0d5ece5e0de02200a25ca600ce7adeca61ced3cf7779a6aaa3abd0f87e9d61bcfd974232171fc4301210205d9ddeaa34d5f9cb670c152fd2b92c0833a50536ad9bfc91962b9e11c35a670"      },      "sequence": 4294967295    }  ],  "vout": [    {      "value": 0.03000000,      "n": 0,      "scriptPubKey": {        "asm": "OP_DUP OP_HASH160 d20303f9aa73ef80862edd9384a70d4e7b97820f OP_EQUALVERIFY OP_CHECKSIG",        "hex": "76a914d20303f9aa73ef80862edd9384a70d4e7b97820f88ac",        "reqSigs": 1,        "type": "pubkeyhash",        "addresses": [          "mzfPortdXRJCY5fPXaQeLxRh3Ke3AEirVy"        ]      }    }  ]}コマンド14-2-3　①NON_RBF_SIGNED_RAW_TX ⇒②REP_NON_RBF_SIGNED_RAW_TXの順に送信$ bcit sendrawtransaction $NON_RBF_SIGNED_RAW_TXe4453b4586f44a3deff2c776e476bdbbe90c3102664a1c1dac6e3f8099303d23$ bcit sendrawtransaction $REP_NON_RBF_SIGNED_RAW_TXerror code: -26error message:18: txn-mempool-conflictコマンド14-2-4　トランザクションプールを確認$ bcit getrawmempool | grep e4453b4586f44a3deff2c776e476bdbbe90c3102664a1c1dac6e3f8099303d23  "e4453b4586f44a3deff2c776e476bdbbe90c3102664a1c1dac6e3f8099303d23",コマンド14-2-5　RBFのトランザクションを生成$ RBF_RAW_TX=`bcit createrawtransaction "[{\"txid\":\"$TXID\",\"vout\":$VOUT}]" "{\"$bobaddr\":0.035}" 0 true`コマンド14-2-6　RBF_SIGNED_RAW_TXを確認$ bcit decoderawtransaction $RBF_SIGNED_RAW_TX{  "txid": "72741a3272fb1a0aa641da521158981b4ef7fcacae08cda40002021aee3b6e79",  "hash": "72741a3272fb1a0aa641da521158981b4ef7fcacae08cda40002021aee3b6e79",  "version": 2,  "size": 191,  "vsize": 191,  "locktime": 0,  "vin": [    {      "txid": "ec2b6076c65b88d2b8acee56dc75839c15bf57175d49bef4171727a93d437651",      "vout": 0,      "scriptSig": {        "asm": "30440220705f32628cdc949e9f961a4f7ce800ecd4a6bdf637785164882c8fabc197e8b502201be05da7a03e460b25b95aa27651167008bab56836177b5fc65cdd5318f4ee6e[ALL] 0205d9ddeaa34d5f9cb670c152fd2b92c0833a50536ad9bfc91962b9e11c35a670",        "hex": "4730440220705f32628cdc949e9f961a4f7ce800ecd4a6bdf637785164882c8fabc197e8b502201be05da7a03e460b25b95aa27651167008bab56836177b5fc65cdd5318f4ee6e01210205d9ddeaa34d5f9cb670c152fd2b92c0833a50536ad9bfc91962b9e11c35a670"      },      "sequence": 4294967293    }  ],  "vout": [    {      "value": 0.03500000,      "n": 0,      "scriptPubKey": {        "asm": "OP_DUP OP_HASH160 d20303f9aa73ef80862edd9384a70d4e7b97820f OP_EQUALVERIFY OP_CHECKSIG",        "hex": "76a914d20303f9aa73ef80862edd9384a70d4e7b97820f88ac",        "reqSigs": 1,        "type": "pubkeyhash",        "addresses": [          "mzfPortdXRJCY5fPXaQeLxRh3Ke3AEirVy"        ]      }    }  ]}コマンド14-2-7　REP_RBF_SIGNED_RAW_TXを確認$ bcit decoderawtransaction $REP_RBF_SIGNED_RAW_TX{  "txid": "33452ae0227df332497d55b2da1a33815166b76efc8ded3e8275ba2c4b969fce",  "hash": "33452ae0227df332497d55b2da1a33815166b76efc8ded3e8275ba2c4b969fce",  "version": 2,  "size": 192,  "vsize": 192,  "locktime": 0,  "vin": [    {      "txid": "ec2b6076c65b88d2b8acee56dc75839c15bf57175d49bef4171727a93d437651",      "vout": 0,      "scriptSig": {        "asm": "3045022100d7b49fbf85caf892b1f64a91ad4fc013b85763e1f9c19cffb00af37cf1d8280e0220256c13298bc37c4e5f7a926704abb23649478ae194cf1a012e4d95385e1e6ec3[ALL] 0205d9ddeaa34d5f9cb670c152fd2b92c0833a50536ad9bfc91962b9e11c35a670",        "hex": "483045022100d7b49fbf85caf892b1f64a91ad4fc013b85763e1f9c19cffb00af37cf1d8280e0220256c13298bc37c4e5f7a926704abb23649478ae194cf1a012e4d95385e1e6ec301210205d9ddeaa34d5f9cb670c152fd2b92c0833a50536ad9bfc91962b9e11c35a670"      },      "sequence": 4294967295    }  ],  "vout": [    {      "value": 0.03000000,      "n": 0,      "scriptPubKey": {        "asm": "OP_DUP OP_HASH160 d20303f9aa73ef80862edd9384a70d4e7b97820f OP_EQUALVERIFY OP_CHECKSIG",        "hex": "76a914d20303f9aa73ef80862edd9384a70d4e7b97820f88ac",        "reqSigs": 1,        "type": "pubkeyhash",        "addresses": [          "mzfPortdXRJCY5fPXaQeLxRh3Ke3AEirVy"        ]      }    }  ]}コマンド14-2-8　RBF_SIGNED_RAW_TXを送信$ bcit sendrawtransaction $RBF_SIGNED_RAW_TX72741a3272fb1a0aa641da521158981b4ef7fcacae08cda40002021aee3b6e79$ bcit getrawmempool | grep 72741a3272fb1a0aa641da521158981b4ef7fcacae08cda40002021aee3b6e79  "72741a3272fb1a0aa641da521158981b4ef7fcacae08cda40002021aee3b6e79",コマンド14-2-9　REP_RBF_SIGNED_RAW_TXを送信$ bcit sendrawtransaction $REP_RBF_SIGNED_RAW_TX33452ae0227df332497d55b2da1a33815166b76efc8ded3e8275ba2c4b969fce$ bcit getrawmempool | grep 33452ae0227df332497d55b2da1a33815166b76efc8ded3e8275ba2c4b969fce  "33452ae0227df332497d55b2da1a33815166b76efc8ded3e8275ba2c4b969fce",コマンド14-2-10　トランザクションプール上のRBF_SIGNED_RAW_TXを確認$ bcit getrawmempool | grep 72741a3272fb1a0aa641da521158981b4ef7fcacae08cda40002021aee3b6e79$ （何も結果が返ってこない）コマンド14-2-11　bcit getrawtransactionで存在を確認$ bcit getrawtransaction 33452ae0227df332497d55b2da1a33815166b76efc8ded3e8275ba2c4b969fce02000000015176433da9271717f4be495d1757bf159c8375dc56eeacb8d2885bc676602bec000000006b483045022100d7b49fbf85caf892b1f64a91ad4fc013b85763e1f9c19cffb00af37cf1d8280e0220256c13298bc37c4e5f7a926704abb23649478ae194cf1a012e4d95385e1e6ec301210205d9ddeaa34d5f9cb670c152fd2b92c0833a50536ad9bfc91962b9e11c35a670ffffffff01c0c62d00000000001976a914d20303f9aa73ef80862edd9384a70d4e7b97820f88ac00000000$ bcit getrawtransaction 72741a3272fb1a0aa641da521158981b4ef7fcacae08cda40002021aee3b6e79error code: -5error message:No such mempool or blockchain transaction. Use gettransaction for wallet transactions.コマンド14-2-12　REP_RBF_SIGNED_RAW_TXの取り込みを確認$ bcit getblock `bcit getblockhash 1291942` | grep 33452ae0227df332497d55b2da1a33815166b76efc8ded3e8275ba2c4b969fce    "33452ae0227df332497d55b2da1a33815166b76efc8ded3e8275ba2c4b969fce",