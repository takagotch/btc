コマンド11-1-1　ウォレットをbackup.dat.03の時点に戻して起動$ bcit stop$ cp -pr ~/work/wallet/backup.dat.03 ~/.bitcoin/testnet3/wallets/wallet.dat$ ls ~/.bitcoin/testnet3/wallets/wallet.dat/home/bc01/.bitcoin/testnet3/wallets/wallet.dat$ bitcoind -daemonBitcoin server startingコマンド11-1-2　アドレスを変数に格納$ bcit getaddressesbyaccount "bob_legacy_01"[  "mzfPortdXRJCY5fPXaQeLxRh3Ke3AEirVy"]$ bobaddr=mzfPortdXRJCY5fPXaQeLxRh3Ke3AEirVyコマンド11-1-3　TXIDを変数に格納$ TXID=2d716a0aa0d650ffb76dd8ec7d9449488e9cfdcea046d91de47c9e3eace4940bコマンド11-1-4　ブロック数を確認$ bcit getblockcount1291721$ bcit getblockcount1291722コマンド11-1-5　TXIDがブロックに取り込まれていることを確認（結果なし）$ bcit getblock `bcit getblockhash 1291722` | grep $TXIDコマンド11-1-6　TXIDがブロックに取り込まれているることを確認（結果出力）$ bcit getblock `bcit getblockhash 1291724` | grep $TXID    "2d716a0aa0d650ffb76dd8ec7d9449488e9cfdcea046d91de47c9e3eace4940b",コマンド11-1-7　UTXOを確認$ bcit listunspent[  {    "txid": "2d716a0aa0d650ffb76dd8ec7d9449488e9cfdcea046d91de47c9e3eace4940b",    "vout": 0,    "address": "mzfPortdXRJCY5fPXaQeLxRh3Ke3AEirVy",    "account": "bob_legacy_01",  11-1  "scriptPubKey": "76a914d20303f9aa73ef80862edd9384a70d4e7b97820f88ac",    "amount": 0.55000000,    "confirmations": 1,    "spendable": true,    "solvable": true,    "safe": true  }]コマンド11-1-8　bcit listtransactionsでトランザクションを確認$ bcit listtransactions[  {    "account": "bob_legacy_01",    "address": "mzfPortdXRJCY5fPXaQeLxRh3Ke3AEirVy",    "category": "receive",    "amount": 0.55000000,    "label": "bob_legacy_01",    "vout": 0,    "confirmations": 1,    "blockhash": "0000000000c3bf55da1f9c74dfd956552c58ec4df4ef17322ba8648c1463bcb6",    "blockindex": 140,    "blocktime": 1523026373,    "txid": "2d716a0aa0d650ffb76dd8ec7d9449488e9cfdcea046d91de47c9e3eace4940b",    "walletconflicts": [    ],    "time": 1523023548,    "timereceived": 1523023548,    "bip125-replaceable": "no"  }]コマンド11-1-9　残高を確認$ bcit getreceivedbyaddress $bobaddr0.55000000コマンド11-1-10　bcit getrawtransactionで生データを出力$ bcit getrawtransaction $TXID0100000000010116839399e7c6076cdb28590e5b42f876e4f4a362fc17c054ec8cea55d04640b00100000017160014c50b21bbcbca5a904588a1e50bee7b32093cee80ffffffff02c03b4703000000001976a914d20303f9aa73ef80862edd9384a70d4e7b97820f88acd28ad7ba0000000017a914754b2e9ad16d620fc229528df511d1e9891205ab8702483045022100a400f6859f44079b25208aede0f72d565429f6ea87c5798f7949ad782b1e361b022038006234ff529e5328e360495a1eb87bcfcf98e3191316a93ebb953ec5c55931012103b184eb3ffb4ef808c33245a9a37a14a4ae0664b30c8291d9c527952a0c198c7b00000000コマンド11-1-11　bcit decoderawtransactionでトランザクションを表示$ bcit decoderawtransaction `bcit getrawtransaction $TXID`{  "txid": "2d716a0aa0d650ffb76dd8ec7d9449488e9cfdcea046d91de47c9e3eace4940b",  "hash": "8b3350e0d3b32b8effa0864d8dada4af202e7daed26f3dcaa8f2460282c54db2",  "version": 1,  "size": 250,  "vsize": 168,  "locktime": 0,  "vin": [    {      "txid": "b04046d055ea8cec54c017fc62a3f4e476f8425b0e5928db6c07c6e799938316",      "vout": 1,      "scriptSig": {        "asm": "0014c50b21bbcbca5a904588a1e50bee7b32093cee80",        "hex": "160014c50b21bbcbca5a904588a1e50bee7b32093cee80"      },      "txinwitness": [        "3045022100a400f6859f44079b25208aede0f72d565429f6ea87c5798f7949ad782b1e361b022038006234ff529e5328e360495a1eb87bcfcf98e3191316a93ebb953ec5c5593101",        "03b184eb3ffb4ef808c33245a9a37a14a4ae0664b30c8291d9c527952a0c198c7b"      ],      "sequence": 4294967295    }  ],  "vout": [    {      "value": 0.55000000,      "n": 0,      "scriptPubKey": {        "asm": "OP_DUP OP_HASH160 d20303f9aa73ef80862edd9384a70d4e7b97820f OP_EQUALVERIFY OP_CHECKSIG",        "hex": "76a914d20303f9aa73ef80862edd9384a70d4e7b97820f88ac",        "reqSigs": 1,        "type": "pubkeyhash",        "addresses": [          "mzfPortdXRJCY5fPXaQeLxRh3Ke3AEirVy"        ]      }    },    {      "value": 31.34687954,      "n": 1,      "scriptPubKey": {        "asm": "OP_HASH160 754b2e9ad16d620fc229528df511d1e9891205ab OP_EQUAL",        "hex": "a914754b2e9ad16d620fc229528df511d1e9891205ab87",        "reqSigs": 1,        "type": "scripthash",        "addresses": [          "2N3wR7U8L3QY22k4xnWNM4MHehuHYJMmqjc"        ]      }    }  ]}コマンド11-1-12　送金元のアドレスを確認$ bcit decoderawtransaction `bcit getrawtransaction b04046d055ea8cec54c017fc62a3f4e476f8425b0e5928db6c07c6e799938316`{  "txid": "b04046d055ea8cec54c017fc62a3f4e476f8425b0e5928db6c07c6e799938316",  "hash": "39b026c218329290f47914f0993515f7fbb6539e592149297a317cb142f5d945",  "version": 1,  "size": 249,  "vsize": 168,  "locktime": 0,  "vin": [    {      "txid": "5d83e522563d65f42629dc08410b83488757995bee4db70e9c7ab1b1a69db71a",      "vout": 1,      "scriptSig": {        "asm": "0014d51b76fb8895f1a0893e995cbbadf6059b544bbf",        "hex": "160014d51b76fb8895f1a0893e995cbbadf6059b544bbf"      },      "txinwitness": [        "3044022050def400ea831bbb6b4b2b8c6e2519f7e68eae3fc5e57a581ccb49366c340bd302206607ea4ebc02e00196d144068182d59863607138cf030c82e9904f70e767fe6c01",        "03e08acac577c240a332e1efaa3a8bb3e16c5094e389a348d3d1cd87f5ffc726e5"      ],      "sequence": 4294967295    }  ],  "vout": [    {      "value": 0.55000000,      "n": 0,      "scriptPubKey": {        "asm": "OP_DUP OP_HASH160 7c08f33aaa2040883f27ddfe99c9a3bb2d50b608 OP_EQUALVERIFY OP_CHECKSIG",        "hex": "76a9147c08f33aaa2040883f27ddfe99c9a3bb2d50b60888ac",        "reqSigs": 1,        "type": "pubkeyhash",        "addresses": [          "mrpnohtbSSVWcNh911RyNUerqmT2NbRfFJ"        ]      }    },    {      "value": 31.89787954,      "n": 1,      "scriptPubKey": {        "asm": "OP_HASH160 97b21cc6417aca3f0b8ea9898222ef0e1c5d960e OP_EQUAL",        "hex": "a91497b21cc6417aca3f0b8ea9898222ef0e1c5d960e87",        "reqSigs": 1,        "type": "scripthash",        "addresses": [          "2N75KPiXnT955BCHUz6Sq5TsmK4ffTPgbc2"        ]      }    }  ]}コマンド11-1-13　公開鍵を確認$ bcit validateaddress $bobaddr{  "isvalid": true,  "address": "mzfPortdXRJCY5fPXaQeLxRh3Ke3AEirVy",  "scriptPubKey": "76a914d20303f9aa73ef80862edd9384a70d4e7b97820f88ac",  "ismine": true,  "iswatchonly": false,  "isscript": false,  "iswitness": false,  "pubkey": "02e8fe565a5bdef860c7734bd5f74edcfd6dcfb205678145c08bf5e1deb0cac01c",  "iscompressed": true,  "account": "bob_legacy_01",  "timestamp": 1522938785,  "hdkeypath": "m/0'/0'/0'",  "hdmasterkeyid": "b961b11d31000c63846cb0460f2b8cccdbf8b8a7"}コマンド11-1-14　pubKeHashを生成$ echo 02e8fe565a5bdef860c7734bd5f74edcfd6dcfb205678145c08bf5e1deb0cac01c | hash160d20303f9aa73ef80862edd9384a70d4e7b97820fコマンド11-1-15　送金者はアドレスからpubKeyHashを取り出し、チェックサムによる誤り検出を行う$ echo mzfPortdXRJCY5fPXaQeLxRh3Ke3AEirVy | b58d6fd20303f9aa73ef80862edd9384a70d4e7b97820f87c9ee4c$ echo mzfPortdXRJCY5fPXaQeLxRh3Ke3AEirVy | b58d | cut -c3-42d20303f9aa73ef80862edd9384a70d4e7b97820f$ echo mzfPortdXRJCY5fPXaQeLxRh3Ke3AEirVy | b58d | cut -c43-5087c9ee4c$ echo mzfPortdXRJCY5fPXaQeLxRh3Ke3AEirVy | b58d | cut -c1-42 | sha256d | cut -c1-887c9ee4cコマンド11-1-16　送金先アドレスを生成して変数に格納$ bcit getnewaddress "alice_legacy_01" "legacy"n36Hpe9L76wHX8qNgkL8sezjLc1PMeFAgw$ aliceaddr=n36Hpe9L76wHX8qNgkL8sezjLc1PMeFAgwコマンド11-1-17　voutとscriptPubKeyを変数に格納$ VOUT=0$ ScriptPubKey=76a914d20303f9aa73ef80862edd9384a70d4e7b97820f88acコマンド11-1-18　bcit createrawtransactionでトランザクションを生成$ bcit createrawtransaction "[{\"txid\":\"$TXID\",\"vout\":$VOUT}]" "{\"$aliceaddr\":0.04, \"$bobaddr\":0.5}"02000000010b94e4ac3e9e7ce41dd946a0cefd9c8e4849947decd86db7ff50d6a00a6a712d0000000000ffffffff0200093d00000000001976a914eca8ab37ef6fef7c7ee10323a8a3bb3101c1731e88ac80f0fa02000000001976a914d20303f9aa73ef80862edd9384a70d4e7b97820f88ac00000000$ RAW_TX=02000000010b94e4ac3e9e7ce41dd946a0cefd9c8e4849947decd86db7ff50d6a00a6a712d0000000000ffffffff0200093d00000000001976a914eca8ab37ef6fef7c7ee10323a8a3bb3101c1731e88ac80f0fa02000000001976a914d20303f9aa73ef80862edd9384a70d4e7b97820f88ac00000000コマンド11-1-19　bcit decoderawtransactionで未署名トランザクションデータを確認$ bcit decoderawtransaction $RAW_TX{  "txid": "628d713c0c51e4fc58292562706068be7444db62abe4ad8f9786cb9f93c7e6c4",  "hash": "628d713c0c51e4fc58292562706068be7444db62abe4ad8f9786cb9f93c7e6c4",  "version": 2,  "size": 119,  "vsize": 119,  "locktime": 0,  "vin": [    {      "txid": "2d716a0aa0d650ffb76dd8ec7d9449488e9cfdcea046d91de47c9e3eace4940b",      "vout": 0,      "scriptSig": {        "asm": "",        "hex": ""      },      "sequence": 4294967295    }  ],  "vout": [    {      "value": 0.04000000,      "n": 0,      "scriptPubKey": {        "asm": "OP_DUP OP_HASH160 eca8ab37ef6fef7c7ee10323a8a3bb3101c1731e OP_EQUALVERIFY OP_CHECKSIG",        "hex": "76a914eca8ab37ef6fef7c7ee10323a8a3bb3101c1731e88ac",        "reqSigs": 1,        "type": "pubkeyhash",        "addresses": [          "n36Hpe9L76wHX8qNgkL8sezjLc1PMeFAgw"        ]      }    },    {      "value": 0.50000000,      "n": 1,      "scriptPubKey": {        "asm": "OP_DUP OP_HASH160 d20303f9aa73ef80862edd9384a70d4e7b97820f OP_EQUALVERIFY OP_CHECKSIG",        "hex": "76a914d20303f9aa73ef80862edd9384a70d4e7b97820f88ac",        "reqSigs": 1,        "type": "pubkeyhash",        "addresses": [          "mzfPortdXRJCY5fPXaQeLxRh3Ke3AEirVy"        ]      }    }  ]}コマンド11-1-20　bcit signrawtransactionで署名$ bcit signrawtransaction $RAW_TX "[{\"txid\":\"$TXID\",\"vout\":$VOUT,\"scriptPubKey\":\"$ScriptPubKey\", \"amount\":0.55}]" "[\"`bcit dumpprivkey $bobaddr`\"]"{  "hex": "02000000010b94e4ac3e9e7ce41dd946a0cefd9c8e4849947decd86db7ff50d6a00a6a712d000000006b483045022100e5fb50f84338c3a8fcbfef6d5548ce819d19d02cd132e7d9ebe2b6ca9028287e022077aeab6e9e28b66fff48a1b5cb30767bcc003f39c7951bcfdd7c0547b8b2a569012102e8fe565a5bdef860c7734bd5f74edcfd6dcfb205678145c08bf5e1deb0cac01cffffffff0200093d00000000001976a914eca8ab37ef6fef7c7ee10323a8a3bb3101c1731e88ac80f0fa02000000001976a914d20303f9aa73ef80862edd9384a70d4e7b97820f88ac00000000",  "complete": true}コマンド11-1-21　違う秘密鍵で署名（エラー）$ bcit signrawtransaction $RAW_TX "[{\"txid\":\"$TXID\",\"vout\":$VOUT,\"scriptPubKey\":\"$ScriptPubKey\", \"amount\":0.55}]" "[\"`bcit dumpprivkey $aliceaddr`\"]"{  "hex": "02000000010b94e4ac3e9e7ce41dd946a0cefd9c8e4849947decd86db7ff50d6a00a6a712d0000000000ffffffff0200093d00000000001976a914eca8ab37ef6fef7c7ee10323a8a3bb3101c1731e88ac80f0fa02000000001976a914d20303f9aa73ef80862edd9384a70d4e7b97820f88ac00000000",  "complete": false,  "errors": [    {      "txid": "2d716a0aa0d650ffb76dd8ec7d9449488e9cfdcea046d91de47c9e3eace4940b",      "vout": 0,      "witness": [      ],      "scriptSig": "",      "sequence": 4294967295,      "error": "Unable to sign input, invalid stack size (possibly missing key)"    }  ]}コマンド11-1-22　秘密鍵を指定しないで署名$ bcit signrawtransaction $RAW_TX "[{\"txid\":\"$TXID\",\"vout\":$VOUT,\"scriptPubKey\":\"$ScriptPubKey\", \"amount\":0.55}]"{  "hex": "02000000010b94e4ac3e9e7ce41dd946a0cefd9c8e4849947decd86db7ff50d6a00a6a712d000000006b483045022100e5fb50f84338c3a8fcbfef6d5548ce819d19d02cd132e7d9ebe2b6ca9028287e022077aeab6e9e28b66fff48a1b5cb30767bcc003f39c7951bcfdd7c0547b8b2a569012102e8fe565a5bdef860c7734bd5f74edcfd6dcfb205678145c08bf5e1deb0cac01cffffffff0200093d00000000001976a914eca8ab37ef6fef7c7ee10323a8a3bb3101c1731e88ac80f0fa02000000001976a914d20303f9aa73ef80862edd9384a70d4e7b97820f88ac00000000",  "complete": true}コマンド11-1-23　署名済みトランザクションデータを変数に格納$ SIGNED_RAW_TX=02000000010b94e4ac3e9e7ce41dd946a0cefd9c8e4849947decd86db7ff50d6a00a6a712d000000006b483045022100e5fb50f84338c3a8fcbfef6d5548ce819d19d02cd132e7d9ebe2b6ca9028287e022077aeab6e9e28b66fff48a1b5cb30767bcc003f39c7951bcfdd7c0547b8b2a569012102e8fe565a5bdef860c7734bd5f74edcfd6dcfb205678145c08bf5e1deb0cac01cffffffff0200093d00000000001976a914eca8ab37ef6fef7c7ee10323a8a3bb3101c1731e88ac80f0fa02000000001976a914d20303f9aa73ef80862edd9384a70d4e7b97820f88ac00000000コマンド11-1-24　署名済みトランザクションをbcit decoderawtransactionで確認$ bcit decoderawtransaction $SIGNED_RAW_TX{  "txid": "10251f035634a25f1c8fe5801e67d0e2db1e7a83481d8f5e5745c127a5c7e2e9",  "hash": "10251f035634a25f1c8fe5801e67d0e2db1e7a83481d8f5e5745c127a5c7e2e9",  "version": 2,  "size": 226,  "vsize": 226,  "locktime": 0,  "vin": [    {      "txid": "2d716a0aa0d650ffb76dd8ec7d9449488e9cfdcea046d91de47c9e3eace4940b",      "vout": 0,      "scriptSig": {        "asm": "3045022100e5fb50f84338c3a8fcbfef6d5548ce819d19d02cd132e7d9ebe2b6ca9028287e022077aeab6e9e28b66fff48a1b5cb30767bcc003f39c7951bcfdd7c0547b8b2a569[ALL] 02e8fe565a5bdef860c7734bd5f74edcfd6dcfb205678145c08bf5e1deb0cac01c",        "hex": "483045022100e5fb50f84338c3a8fcbfef6d5548ce819d19d02cd132e7d9ebe2b6ca9028287e022077aeab6e9e28b66fff48a1b5cb30767bcc003f39c7951bcfdd7c0547b8b2a569012102e8fe565a5bdef860c7734bd5f74edcfd6dcfb205678145c08bf5e1deb0cac01c"      },      "sequence": 4294967295    }  ],  "vout": [    {      "value": 0.04000000,      "n": 0,      "scriptPubKey": {        "asm": "OP_DUP OP_HASH160 eca8ab37ef6fef7c7ee10323a8a3bb3101c1731e OP_EQUALVERIFY OP_CHECKSIG",        "hex": "76a914eca8ab37ef6fef7c7ee10323a8a3bb3101c1731e88ac",        "reqSigs": 1,        "type": "pubkeyhash",        "addresses": [          "n36Hpe9L76wHX8qNgkL8sezjLc1PMeFAgw"        ]      }    },    {      "value": 0.50000000,      "n": 1,      "scriptPubKey": {        "asm": "OP_DUP OP_HASH160 d20303f9aa73ef80862edd9384a70d4e7b97820f OP_EQUALVERIFY OP_CHECKSIG",        "hex": "76a914d20303f9aa73ef80862edd9384a70d4e7b97820f88ac",        "reqSigs": 1,        "type": "pubkeyhash",        "addresses": [          "mzfPortdXRJCY5fPXaQeLxRh3Ke3AEirVy"        ]      }    }  ]}コマンド11-1-25　トランザクションを送信$ bcit sendrawtransaction $SIGNED_RAW_TX10251f035634a25f1c8fe5801e67d0e2db1e7a83481d8f5e5745c127a5c7e2e9コマンド11-1-26　ブロックへの取り込みを確認$ bcit getblock `bcit getbestblockhash` | grep 10251f035634a25f1c8fe5801e67d0e2db1e7a83481d8f5e5745c127a5c7e2e9    "10251f035634a25f1c8fe5801e67d0e2db1e7a83481d8f5e5745c127a5c7e2e9",コマンド11-1-27　bcit listunspentで確認$ bcit listunspent[  {    "txid": "10251f035634a25f1c8fe5801e67d0e2db1e7a83481d8f5e5745c127a5c7e2e9",    "vout": 0,    "address": "n36Hpe9L76wHX8qNgkL8sezjLc1PMeFAgw",    "account": "alice_legacy_01",    "scriptPubKey": "76a914eca8ab37ef6fef7c7ee10323a8a3bb3101c1731e88ac",    "amount": 0.04000000,    "confirmations": 1,    "spendable": true,    "solvable": true,    "safe": true  },  {    "txid": "10251f035634a25f1c8fe5801e67d0e2db1e7a83481d8f5e5745c127a5c7e2e9",    "vout": 1,    "address": "mzfPortdXRJCY5fPXaQeLxRh3Ke3AEirVy",    "account": "bob_legacy_01",    "scriptPubKey": "76a914d20303f9aa73ef80862edd9384a70d4e7b97820f88ac",    "amount": 0.50000000,    "confirmations": 1,    "spendable": true,    "solvable": true,    "safe": true  }]コマンド11-2-1　2-of-2のマルチシグアドレスを生成$ bcit addmultisigaddress 2 "[\"$bobaddr\",\"$aliceaddr\"]" "bobalicemultiaddr" "legacy"{  "address": "2N7qAML3NP1M3JQCmkXRrmzuvwkpQi7aRFp",  "redeemScript": "522102e8fe565a5bdef860c7734bd5f74edcfd6dcfb205678145c08bf5e1deb0cac01c210205d9ddeaa34d5f9cb670c152fd2b92c0833a50536ad9bfc91962b9e11c35a67052ae"}コマンド11-2-2　変数に格納$ bobalicemultiaddr=2N7qAML3NP1M3JQCmkXRrmzuvwkpQi7aRFp$ bobaliceRedeemScript=522102e8fe565a5bdef860c7734bd5f74edcfd6dcfb205678145c08bf5e1deb0cac01c210205d9ddeaa34d5f9cb670c152fd2b92c0833a50536ad9bfc91962b9e11c35a67052aeコマンド11-2-3　アドレスの詳細を確認$ bcit validateaddress $bobalicemultiaddr{  "isvalid": true,  "address": "2N7qAML3NP1M3JQCmkXRrmzuvwkpQi7aRFp",  "scriptPubKey": "a9149ffcde168edee5a12ab31c9d4b82cbda2445873487",  "ismine": true,  "iswatchonly": false,  "isscript": true,  "iswitness": false,  "script": "multisig",  "hex": "522102e8fe565a5bdef860c7734bd5f74edcfd6dcfb205678145c08bf5e1deb0cac01c210205d9ddeaa34d5f9cb670c152fd2b92c0833a50536ad9bfc91962b9e11c35a67052ae",  "sigsrequired": 2,  "pubkeys": [    "02e8fe565a5bdef860c7734bd5f74edcfd6dcfb205678145c08bf5e1deb0cac01c",    "0205d9ddeaa34d5f9cb670c152fd2b92c0833a50536ad9bfc91962b9e11c35a670"  ],  "addresses": [    "mzfPortdXRJCY5fPXaQeLxRh3Ke3AEirVy",    "n36Hpe9L76wHX8qNgkL8sezjLc1PMeFAgw"  ],  "account": "bobalicemultiaddr"}コマンド11-2-4　FaucetのTXIDを変数に格納$ TXID=427e40e61eaed0b86b0507f7bd247811d7ba30c99d080a8bd5737b197f3d9d15コマンド11-2-5　Faucetのトランザクションを確認$ bcit decoderawtransaction `bcit getrawtransaction $TXID`{  "txid": "427e40e61eaed0b86b0507f7bd247811d7ba30c99d080a8bd5737b197f3d9d15",  "hash": "5afb70ce44480f81a534c2424cd0aae3562795a41ec4fdf9834a47f22c52b26d",  "version": 1,  "size": 248,  "vsize": 166,  "locktime": 0,  "vin": [    {      "txid": "2cc159f3a2126e1addcc1f2936f13cf1eafcbd317d058084ff03aca7c5d663f8",      "vout": 1,      "scriptSig": {        "asm": "00149fcac260041144430f6c51e2f5324a8310bd878e",        "hex": "1600149fcac260041144430f6c51e2f5324a8310bd878e"      },      "txinwitness": [        "3045022100fd137b63569dfc4dd2ecfe5ad6069703608fd4d7e08c39a3a48aea02e50a6a33022050ed040044b55b33cd51180dc56460fd19fe0d1a7303f318f0eed9881ba7984201",        "0345f4fa1431d5b3c026ea93a924f86860598cf8a38c57cf9dbf209f38ff8a27cc"      ],      "sequence": 4294967295    }  ],  "vout": [    {      "value": 0.55000000,      "n": 0,      "scriptPubKey": {        "asm": "OP_HASH160 9ffcde168edee5a12ab31c9d4b82cbda24458734 OP_EQUAL",        "hex": "a9149ffcde168edee5a12ab31c9d4b82cbda2445873487",        "reqSigs": 1,        "type": "scripthash",        "addresses": [          "2N7qAML3NP1M3JQCmkXRrmzuvwkpQi7aRFp"        ]      }    },    {      "value": 26.76923446,      "n": 1,      "scriptPubKey": {        "asm": "OP_HASH160 05c1b5d0b46d233fc242cb0afcf1d882931df322 OP_EQUAL",        "hex": "a91405c1b5d0b46d233fc242cb0afcf1d882931df32287",        "reqSigs": 1,        "type": "scripthash",        "addresses": [          "2MsmfRTv2jKedZbY6itMyaiAEfXmZ5seapi"        ]      }    }  ]}コマンド11-2-6　Redeem ScriptのHASH160を計算$ echo $bobaliceRedeemScript | hash1609ffcde168edee5a12ab31c9d4b82cbda24458734コマンド11-2-7　bobalicemultiaddrのアドレスを生成$ redeemScriptHash=9ffcde168edee5a12ab31c9d4b82cbda24458734$ echo c4${redeemScriptHash} | b58ce2N7qAML3NP1M3JQCmkXRrmzuvwkpQi7aRFpコマンド11-2-8　UTXOの情報を変数に格納$ VOUT=0$ ScriptPubKey=a9149ffcde168edee5a12ab31c9d4b82cbda2445873487コマンド11-2-9　トランザクションを生成$ RAW_TX=`bcit createrawtransaction "[{\"txid\":\"$TXID\",\"vout\":$VOUT}]" "{\"$aliceaddr\":0.04, \"$bobalicemultiaddr\":0.5}"`コマンド11-2-10　未署名トランザクションを確認$ bcit decoderawtransaction $RAW_TX{  "txid": "2cbe6e333d54f7f645fd3c1b56897aa3ecf360376453d7e597fcff5f2e75d1d8",  "hash": "2cbe6e333d54f7f645fd3c1b56897aa3ecf360376453d7e597fcff5f2e75d1d8",  "version": 2,  "size": 117,  "vsize": 117,  "locktime": 0,  "vin": [    {      "txid": "427e40e61eaed0b86b0507f7bd247811d7ba30c99d080a8bd5737b197f3d9d15",      "vout": 0,      "scriptSig": {        "asm": "",        "hex": ""      },      "sequence": 4294967295    }  ],  "vout": [    {      "value": 0.04000000,      "n": 0,      "scriptPubKey": {        "asm": "OP_DUP OP_HASH160 eca8ab37ef6fef7c7ee10323a8a3bb3101c1731e OP_EQUALVERIFY OP_CHECKSIG",        "hex": "76a914eca8ab37ef6fef7c7ee10323a8a3bb3101c1731e88ac",        "reqSigs": 1,        "type": "pubkeyhash",        "addresses": [          "n36Hpe9L76wHX8qNgkL8sezjLc1PMeFAgw"        ]      }    },    {      "value": 0.50000000,      "n": 1,      "scriptPubKey": {        "asm": "OP_HASH160 9ffcde168edee5a12ab31c9d4b82cbda24458734 OP_EQUAL",        "hex": "a9149ffcde168edee5a12ab31c9d4b82cbda2445873487",        "reqSigs": 1,        "type": "scripthash",        "addresses": [          "2N7qAML3NP1M3JQCmkXRrmzuvwkpQi7aRFp"        ]      }    }  ]}コマンド11-2-11　bobで署名$ bcit signrawtransaction $RAW_TX "[{\"txid\":\"$TXID\",\"vout\":$VOUT,\"scriptPubKey\":\"$ScriptPubKey\", \"redeemScript\":\"$bobaliceRedeemScript\", \"amount\":0.55}]" "[\"`bcit dumpprivkey $bobaddr`\"]"{  "hex": "0200000001159d3d7f197b73d58b0a089dc930bad7117824bdf707056bb8d0ae1ee6407e420000000092004830450221009a0e0b8b1cbe09a3785ceb27278776874507cc4e6ec5571d4e2f11fc1c8667b202207a035f71913edbc98269cd64efdcfd75e7dbe42290f257f187f1c0cd4e33a8d00147522102e8fe565a5bdef860c7734bd5f74edcfd6dcfb205678145c08bf5e1deb0cac01c210205d9ddeaa34d5f9cb670c152fd2b92c0833a50536ad9bfc91962b9e11c35a67052aeffffffff0200093d00000000001976a914eca8ab37ef6fef7c7ee10323a8a3bb3101c1731e88ac80f0fa020000000017a9149ffcde168edee5a12ab31c9d4b82cbda244587348700000000",  "complete": false,  "errors": [    {      "txid": "427e40e61eaed0b86b0507f7bd247811d7ba30c99d080a8bd5737b197f3d9d15",      "vout": 0,      "witness": [      ],      "scriptSig": "004830450221009a0e0b8b1cbe09a3785ceb27278776874507cc4e6ec5571d4e2f11fc1c8667b202207a035f71913edbc98269cd64efdcfd75e7dbe42290f257f187f1c0cd4e33a8d00147522102e8fe565a5bdef860c7734bd5f74edcfd6dcfb205678145c08bf5e1deb0cac01c210205d9ddeaa34d5f9cb670c152fd2b92c0833a50536ad9bfc91962b9e11c35a67052ae",      "sequence": 4294967295,      "error": "Unable to sign input, invalid stack size (possibly missing key)"    }  ]}コマンド11-2-12　部分署名トランザクションを変数に格納$ PARTIAL_SIGNED_RAW_TX=0200000001159d3d7f197b73d58b0a089dc930bad7117824bdf707056bb8d0ae1ee6407e420000000092004830450221009a0e0b8b1cbe09a3785ceb27278776874507cc4e6ec5571d4e2f11fc1c8667b202207a035f71913edbc98269cd64efdcfd75e7dbe42290f257f187f1c0cd4e33a8d00147522102e8fe565a5bdef860c7734bd5f74edcfd6dcfb205678145c08bf5e1deb0cac01c210205d9ddeaa34d5f9cb670c152fd2b92c0833a50536ad9bfc91962b9e11c35a67052aeffffffff0200093d00000000001976a914eca8ab37ef6fef7c7ee10323a8a3bb3101c1731e88ac80f0fa020000000017a9149ffcde168edee5a12ab31c9d4b82cbda244587348700000000コマンド11-2-13　部分署名トランザクションを確認$ bcit decoderawtransaction $PARTIAL_SIGNED_RAW_TX{  "txid": "774ddb44cd062bcacc77d99f748c3e2733f334781bc50002d6234c011155890a",  "hash": "774ddb44cd062bcacc77d99f748c3e2733f334781bc50002d6234c011155890a",  "version": 2,  "size": 263,  "vsize": 263,  "locktime": 0,  "vin": [    {      "txid": "427e40e61eaed0b86b0507f7bd247811d7ba30c99d080a8bd5737b197f3d9d15",      "vout": 0,      "scriptSig": {        "asm": "0 30450221009a0e0b8b1cbe09a3785ceb27278776874507cc4e6ec5571d4e2f11fc1c8667b202207a035f71913edbc98269cd64efdcfd75e7dbe42290f257f187f1c0cd4e33a8d0[ALL] 522102e8fe565a5bdef860c7734bd5f74edcfd6dcfb205678145c08bf5e1deb0cac01c210205d9ddeaa34d5f9cb670c152fd2b92c0833a50536ad9bfc91962b9e11c35a67052ae",        "hex": "004830450221009a0e0b8b1cbe09a3785ceb27278776874507cc4e6ec5571d4e2f11fc1c8667b202207a035f71913edbc98269cd64efdcfd75e7dbe42290f257f187f1c0cd4e33a8d00147522102e8fe565a5bdef860c7734bd5f74edcfd6dcfb205678145c08bf5e1deb0cac01c210205d9ddeaa34d5f9cb670c152fd2b92c0833a50536ad9bfc91962b9e11c35a67052ae"      },      "sequence": 4294967295    }  ],  "vout": [    {      "value": 0.04000000,      "n": 0,      "scriptPubKey": {        "asm": "OP_DUP OP_HASH160 eca8ab37ef6fef7c7ee10323a8a3bb3101c1731e OP_EQUALVERIFY OP_CHECKSIG",        "hex": "76a914eca8ab37ef6fef7c7ee10323a8a3bb3101c1731e88ac",        "reqSigs": 1,        "type": "pubkeyhash",        "addresses": [          "n36Hpe9L76wHX8qNgkL8sezjLc1PMeFAgw"        ]      }    },    {      "value": 0.50000000,      "n": 1,      "scriptPubKey": {        "asm": "OP_HASH160 9ffcde168edee5a12ab31c9d4b82cbda24458734 OP_EQUAL",        "hex": "a9149ffcde168edee5a12ab31c9d4b82cbda2445873487",        "reqSigs": 1,        "type": "scripthash",        "addresses": [          "2N7qAML3NP1M3JQCmkXRrmzuvwkpQi7aRFp"        ]      }    }  ]}コマンド11-2-14　aliceで署名$ bcit signrawtransaction $PARTIAL_SIGNED_RAW_TX "[{\"txid\":\"$TXID\",\"vout\":$VOUT,\"scriptPubKey\":\"$ScriptPubKey\", \"redeemScript\":\"$bobaliceRedeemScript\", \"amount\":0.55}]" "[\"`bcit dumpprivkey $aliceaddr`\"]"{  "hex": "0200000001159d3d7f197b73d58b0a089dc930bad7117824bdf707056bb8d0ae1ee6407e4200000000db004830450221009a0e0b8b1cbe09a3785ceb27278776874507cc4e6ec5571d4e2f11fc1c8667b202207a035f71913edbc98269cd64efdcfd75e7dbe42290f257f187f1c0cd4e33a8d001483045022100efeae3342ec60e8e7c6f3c8ad61f437efb61b2a0a0b85f03b09ee71ba0de240f02201602758f65cfbf464950a36bde6049a90ecaef0a859a98bd923bb0f2a18942610147522102e8fe565a5bdef860c7734bd5f74edcfd6dcfb205678145c08bf5e1deb0cac01c210205d9ddeaa34d5f9cb670c152fd2b92c0833a50536ad9bfc91962b9e11c35a67052aeffffffff0200093d00000000001976a914eca8ab37ef6fef7c7ee10323a8a3bb3101c1731e88ac80f0fa020000000017a9149ffcde168edee5a12ab31c9d4b82cbda244587348700000000",  "complete": true}コマンド11-2-15　署名済みトランザクションを変数に格納$ SIGNED_RAW_TX=0200000001159d3d7f197b73d58b0a089dc930bad7117824bdf707056bb8d0ae1ee6407e4200000000db004830450221009a0e0b8b1cbe09a3785ceb27278776874507cc4e6ec5571d4e2f11fc1c8667b202207a035f71913edbc98269cd64efdcfd75e7dbe42290f257f187f1c0cd4e33a8d001483045022100efeae3342ec60e8e7c6f3c8ad61f437efb61b2a0a0b85f03b09ee71ba0de240f02201602758f65cfbf464950a36bde6049a90ecaef0a859a98bd923bb0f2a18942610147522102e8fe565a5bdef860c7734bd5f74edcfd6dcfb205678145c08bf5e1deb0cac01c210205d9ddeaa34d5f9cb670c152fd2b92c0833a50536ad9bfc91962b9e11c35a67052aeffffffff0200093d00000000001976a914eca8ab37ef6fef7c7ee10323a8a3bb3101c1731e88ac80f0fa020000000017a9149ffcde168edee5a12ab31c9d4b82cbda244587348700000000コマンド11-2-16　署名済みトランザクションを確認$ bcit decoderawtransaction $SIGNED_RAW_TX{  "txid": "ca0d0b0fc7d561845bc7e0dfb1f80316f6e550143900f20cc1a1720d3bab2917",  "hash": "ca0d0b0fc7d561845bc7e0dfb1f80316f6e550143900f20cc1a1720d3bab2917",  "version": 2,  "size": 336,  "vsize": 336,  "locktime": 0,  "vin": [    {      "txid": "427e40e61eaed0b86b0507f7bd247811d7ba30c99d080a8bd5737b197f3d9d15",      "vout": 0,      "scriptSig": {        "asm": "0 30450221009a0e0b8b1cbe09a3785ceb27278776874507cc4e6ec5571d4e2f11fc1c8667b202207a035f71913edbc98269cd64efdcfd75e7dbe42290f257f187f1c0cd4e33a8d0[ALL] 3045022100efeae3342ec60e8e7c6f3c8ad61f437efb61b2a0a0b85f03b09ee71ba0de240f02201602758f65cfbf464950a36bde6049a90ecaef0a859a98bd923bb0f2a1894261[ALL] 522102e8fe565a5bdef860c7734bd5f74edcfd6dcfb205678145c08bf5e1deb0cac01c210205d9ddeaa34d5f9cb670c152fd2b92c0833a50536ad9bfc91962b9e11c35a67052ae",        "hex": "004830450221009a0e0b8b1cbe09a3785ceb27278776874507cc4e6ec5571d4e2f11fc1c8667b202207a035f71913edbc98269cd64efdcfd75e7dbe42290f257f187f1c0cd4e33a8d001483045022100efeae3342ec60e8e7c6f3c8ad61f437efb61b2a0a0b85f03b09ee71ba0de240f02201602758f65cfbf464950a36bde6049a90ecaef0a859a98bd923bb0f2a18942610147522102e8fe565a5bdef860c7734bd5f74edcfd6dcfb205678145c08bf5e1deb0cac01c210205d9ddeaa34d5f9cb670c152fd2b92c0833a50536ad9bfc91962b9e11c35a67052ae"      },      "sequence": 4294967295    }  ],  "vout": [    {      "value": 0.04000000,      "n": 0,      "scriptPubKey": {        "asm": "OP_DUP OP_HASH160 eca8ab37ef6fef7c7ee10323a8a3bb3101c1731e OP_EQUALVERIFY OP_CHECKSIG",        "hex": "76a914eca8ab37ef6fef7c7ee10323a8a3bb3101c1731e88ac",        "reqSigs": 1,        "type": "pubkeyhash",        "addresses": [          "n36Hpe9L76wHX8qNgkL8sezjLc1PMeFAgw"        ]      }    },    {      "value": 0.50000000,      "n": 1,      "scriptPubKey": {        "asm": "OP_HASH160 9ffcde168edee5a12ab31c9d4b82cbda24458734 OP_EQUAL",        "hex": "a9149ffcde168edee5a12ab31c9d4b82cbda2445873487",        "reqSigs": 1,        "type": "scripthash",        "addresses": [          "2N7qAML3NP1M3JQCmkXRrmzuvwkpQi7aRFp"        ]      }    }  ]}コマンド11-2-17　トランザクションを送信$ bcit sendrawtransaction $SIGNED_RAW_TXca0d0b0fc7d561845bc7e0dfb1f80316f6e550143900f20cc1a1720d3bab2917